<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EAN-13バーコード生成</title>
    <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.0/dist/JsBarcode.all.min.js"></script>
    <script>
        // URLのパスからEAN-13コードを取得する関数
        function getCodeFromPath() {
            var path = window.location.pathname;
            // パスの最後の部分を取得
            var segments = path.split('/');
            var code = segments.pop() || segments.pop();  // 最後のセグメントが空の場合、もう一度pop
            return code;
        }

        window.onload = function() {
            // パスからコードを取得
            var ean13Code = getCodeFromPath();

            // コードが有効な長さかどうかを確認 (EAN-13は13桁)
            if (ean13Code.length === 13) {
                // JsBarcodeを使用してバーコードを生成
                JsBarcode("#barcode", ean13Code, {
                    format: "EAN13",
                    lineColor: "#000",
                    width: 2,
                    height: 100,
                    displayValue: true
                });
            } else {
                alert('無効なコードです。13桁のEAN-13コードを指定してください。');
            }
        }
    </script>
</head>
<body>
    <h1>EAN-13バーコード生成</h1>
    <svg id="barcode"></svg>
</body>
</html>
